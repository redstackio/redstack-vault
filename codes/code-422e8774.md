---
id: 422e8774-675c-4778-8b4e-5f6f4491a5fb
type: code
language: Powershell
verified: false
created_at: '2023-05-24T20:18:08.748174+00:00'
updated_at: '2023-05-24T20:18:59.366229+00:00'
---

# Code Snippet 422e8774

**Language**: Powershell

```powershell
# Add secrets
PS > . C:\Tools\Add-AzADAppSecret.ps1
PS > Add-AzADAppSecret -GraphToken $graphtoken -Verbose

# Use secrets to authenticate as Service Principal
PS > $password = ConvertTo-SecureString '<SECRET/PASSWORD>' -AsPlainText -Force
PS > $creds = New-Object System.Management.Automation.PSCredential('<AppID>', $password)
PS > Connect-AzAccount -ServicePrincipal -Credential $creds -Tenant '<TenantID>'
```


