---
id: 2c197304-30ba-4aac-840d-8c455bd84b1f
type: code
language: Powershell
verified: false
created_at: '2023-04-06T03:56:09.629789+00:00'
updated_at: '2023-04-10T20:19:45.232566+00:00'
---

# Code Snippet 2c197304

**Language**: Powershell

```powershell
# https://aws.amazon.com/fr/blogs/compute/new-using-amazon-ec2-instance-connect-for-ssh-access-to-your-ec2-instances/
$ aws ec2 describe-instances --profile uploadcreds --region eu-west-1 | jq ".[][].Instances | .[] | {InstanceId, KeyName, State}"
$ aws ec2-instance-connect send-ssh-public-key --region us-east-1 --instance-id INSTANCE --availability-zone us-east-1d --instance-os-user ubuntu --ssh-public-key file://shortkey.pub --profile uploadcreds
```
